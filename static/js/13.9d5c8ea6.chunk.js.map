{"version":3,"sources":["components/DailyDeathsChart.tsx","utils/dateRangeFilter.ts"],"names":["Chart","lazy","DailyDeathsChart","dateRange","newDeaths","filteredDailyDeaths","dateRangeFilter","chartProps","type","data","labels","map","date","moment","format","datasets","label","deaths","backgroundColor","options","responsive","legend","display","title","text","fontColor","scales","xAxes","ticks","beginAtZero","precision","yAxes","fallback","currentDate","DateRange","Beginning","OneMonth","oneMonthOldDate","subtract","filter","isBetween","undefined","TwoWeeks","twoWeeksOldDate"],"mappings":"yHAAA,oDAKMA,EAAQC,gBAAK,kBAAM,sDA6DVC,UA3DU,SAAC,GAA8B,IAA5BC,EAA2B,EAA3BA,UAAWC,EAAgB,EAAhBA,UAC/BC,EAAsBC,YAAgBF,EAAWD,GAOjDI,EAAa,CACjBC,KAAM,MACNC,KAAM,CACJC,OARWL,EAAoBM,KAAI,gBAAGC,EAAH,EAAGA,KAAH,OACrCC,IAAOD,GAAME,OAAO,aAQlBC,SAAU,CACR,CACEP,KAAM,MACNQ,MAAO,QACPP,KAVMJ,EAAoBM,KAAI,qBAAGM,UAWjCC,gBAAiB,aAIvBC,QAAS,CACPC,YAAY,EACZC,OAAQ,CAAEC,SAAS,GACnBC,MAAO,CACLD,SAAS,EACTE,KAAM,qBACNC,UAAW,QAEbC,OAAQ,CACNC,MAAO,CACL,CACEC,MAAO,CACLH,UAAW,OACXI,aAAa,EACbC,UAAW,KAIjBC,MAAO,CACL,CACEH,MAAO,CACLH,UAAW,OACXI,aAAa,EACbC,UAAW,QAQvB,OACE,kBAAC,WAAD,CAAUE,SAAU,+BAClB,kBAAChC,EAAUO,M,gCC7DjB,6BAiCeD,IA7BS,SACtBG,EACAN,GAEA,IAAM8B,EAAcpB,MAASC,OAAO,cAEpC,GAAIX,IAAc+B,IAAUC,UAC1B,OAAO1B,EAGT,GAAIN,IAAc+B,IAAUE,SAAU,CACpC,IAAMC,EAAkBxB,MAASyB,SAAS,EAAG,UAAUxB,OAAO,cAE9D,OAAOL,EAAK8B,QAAO,gBAAG3B,EAAH,EAAGA,KAAH,OACjBC,IAAOD,GAAM4B,UAAUH,EAAiBJ,OAAaQ,EAAW,SAIpE,GAAItC,IAAc+B,IAAUQ,SAAU,CACpC,IAAMC,EAAkB9B,MAASyB,SAAS,EAAG,SAASxB,OAAO,cAE7D,OAAOL,EAAK8B,QAAO,gBAAG3B,EAAH,EAAGA,KAAH,OACjBC,IAAOD,GAAM4B,UAAUG,EAAiBV,OAAaQ,EAAW,SAIpE,OAAOhC","file":"static/js/13.9d5c8ea6.chunk.js","sourcesContent":["import React, { lazy, Suspense } from 'react';\nimport moment from 'moment';\n\nimport dateRangeFilter from '../utils/dateRangeFilter';\n\nconst Chart = lazy(() => import('./Chart'));\n\nconst DailyDeathsChart = ({ dateRange, newDeaths }) => {\n  const filteredDailyDeaths = dateRangeFilter(newDeaths, dateRange);\n\n  const labels = filteredDailyDeaths.map(({ date }) =>\n    moment(date).format('DD MMM')\n  );\n  const cases = filteredDailyDeaths.map(({ deaths }) => deaths);\n\n  const chartProps = {\n    type: 'bar',\n    data: {\n      labels,\n      datasets: [\n        {\n          type: 'bar',\n          label: 'Cases',\n          data: cases,\n          backgroundColor: '#F1948A',\n        },\n      ],\n    },\n    options: {\n      responsive: true,\n      legend: { display: false },\n      title: {\n        display: true,\n        text: 'Daily deaths in UK',\n        fontColor: '#CCC',\n      },\n      scales: {\n        xAxes: [\n          {\n            ticks: {\n              fontColor: '#CCC',\n              beginAtZero: true,\n              precision: 0,\n            },\n          },\n        ],\n        yAxes: [\n          {\n            ticks: {\n              fontColor: '#CCC',\n              beginAtZero: true,\n              precision: 0,\n            },\n          },\n        ],\n      },\n    },\n  };\n\n  return (\n    <Suspense fallback={<div />}>\n      <Chart {...chartProps} />\n    </Suspense>\n  );\n};\n\nexport default DailyDeathsChart;\n","import moment from 'moment';\n\nimport DateRange from '../constants/DateRange';\n\nconst dateRangeFilter = (\n  data: Array<{ date: string }>,\n  dateRange: DateRange\n): Array<any> => {\n  const currentDate = moment().format('YYYY-MM-DD');\n\n  if (dateRange === DateRange.Beginning) {\n    return data;\n  }\n\n  if (dateRange === DateRange.OneMonth) {\n    const oneMonthOldDate = moment().subtract(1, 'months').format('YYYY-MM-DD');\n\n    return data.filter(({ date }) =>\n      moment(date).isBetween(oneMonthOldDate, currentDate, undefined, '[]')\n    );\n  }\n\n  if (dateRange === DateRange.TwoWeeks) {\n    const twoWeeksOldDate = moment().subtract(2, 'weeks').format('YYYY-MM-DD');\n\n    return data.filter(({ date }) =>\n      moment(date).isBetween(twoWeeksOldDate, currentDate, undefined, '[]')\n    );\n  }\n\n  return data;\n};\n\nexport default dateRangeFilter;\n"],"sourceRoot":""}